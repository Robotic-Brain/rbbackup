#!/bin/bash

conf_backup_path='###DEST_DIR###'

testRun_param_test() {
    echo "Running hook: ${FUNCNAME[1]}"
    if [ $1 != "testRun" ]; then
        # target
        echo "TEST ERROR: ${FUNCNAME[1]} 1 $1" >&2
        return 1
    fi
    if [ $2 != "testing" ]; then
        # reason
        echo "TEST ERROR: ${FUNCNAME[1]} 2 $2" >&2
        return 1
    fi
    if [ $3 -ne 0 ]; then
        # dryRun
        echo "TEST ERROR: ${FUNCNAME[1]} 3 $3" >&2
        return 1
    fi
    if [ $4 -ne 0 ]; then
        # quiet
        echo "TEST ERROR: ${FUNCNAME[1]} 4 $4" >&2
        return 1
    fi
    #if [ $5 ... ]; then
    #    # last snapshot
    #    echo "TEST ERROR: ${FUNCNAME[1]} 5 $5" >&2
    #    return 1
    #fi
    if [ $6 != "###BACKUP_PATH###" ]; then
        # backup path
        echo "TEST ERROR: ${FUNCNAME[1]} 6 $6" >&2
        return 1
    fi
    #if [ $7 ... ]; then
    #    # start time
    #    echo "TEST ERROR: ${FUNCNAME[1]} 7 $7" >&2
    #    return 1
    #fi
    echo "...hook done: ${FUNCNAME[1]}"
}

conf_pre_backup_f() {
    echo "###FNCTAGS_0###"
    testRun_param_test $@
}
conf_do_backup_f() {
    echo "###FNCTAGS_1###"
    testRun_param_test $@
}
conf_post_backup_f() {
    echo "###FNCTAGS_2###"
    testRun_param_test $@
}
